<div class="relative mb-4">
  <div class="relative">
    @if(element==='input'){
    <input
      [class]="{
        'border-green-600': control?.valid,
        'border-red-700': control?.invalid && control?.touched
      }"
      [formControl]="control"
      [type]="typeInput || (flag ? 'password' : 'text')"
      [id]="idInput"
      class="main-input peer"
      placeholder=" "
    />
    }@else if (element==='text') {
    <textarea
      [class]="{
        'border-green-600': control?.valid,
        'border-red-700': control?.invalid && control?.touched
      }"
      [formControl]="control"
      [id]="idInput"
      class="main-input peer"
      placeholder=" "
    ></textarea
    >}

    <label
      [class]="{
        'text-green-700': control?.valid,
        'text-red-700': control?.invalid && control?.touched
      }"
      [for]="idInput"
      class="main-label-input"
      >{{ labelInput }}</label
    >
    @if (idInput==="password"||idInput==="rePassword") {
    <span
      (click)="flag = !flag"
      class="absolute top-1/2 end-4 -translate-y-1/2 cursor-pointer"
    >
      @if (flag===true) {
      <i (click)="typeInput = 'text'" if class="fas fa-eye"></i>
      }@else if(flag===false){
      <i (click)="typeInput = 'password'" class="fas fa-eye-slash"></i>
      }
    </span>
    }
  </div>
  @if (control?.errors && control?.touched){
  <div
    class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-100 dark:bg-gray-800 dark:text-red-400"
    role="alert"
  >
    <ul class="mt-1.5 list-disc list-inside">
      @if (control?.hasError('required')) {
      <li>Input is required.</li>
      } @if (control?.hasError('minlenght')) {
      <li>Input should be more than or equal 3 chars</li>
      } @if (control?.hasError('maxleght')) {
      <li>Input should be less than or equal 20 chars</li>
      } @if (control?.hasError('email')) {
      <li>Please enter a valid email address</li>
      } @if (control?.hasError('pattern')) {
      <li><ng-content></ng-content></li>
      } @if (control?.hasError('mismatch')) {
      <li>Password confirmtion is incorrect</li>
      }
    </ul>
  </div>
  }
</div>
