import './polyfills.server.mjs';
import{a as P}from"./chunk-LJEMXYOZ.mjs";import{e as D}from"./chunk-I4XGKXLL.mjs";import{o as k}from"./chunk-ZQCBKITM.mjs";import"./chunk-5UF2B2WO.mjs";import{$a as h,Db as w,Ib as C,Kb as f,Na as b,Qa as a,Vb as o,W as v,Wb as p,Xb as E,aa as d,ba as u,bc as I,gc as x,ic as _,sb as y,tb as S,ub as g,vb as n,wb as t,xb as m}from"./chunk-E5AJEFIA.mjs";import"./chunk-X2SEQXRR.mjs";var V=c=>["/checkout",c],F=(c,i)=>i.product._id;function L(c,i){if(c&1){let e=w();n(0,"div",6)(1,"div",11),m(2,"img",12),t(),n(3,"div",13)(4,"div")(5,"h3"),o(6),t(),n(7,"div",14)(8,"div",15)(9,"button",16),C("click",function(){let s=d(e).$implicit,l=f();return u(l.updateCartCount(s.product._id,s.count-1))}),m(10,"i",17),t(),n(11,"span"),o(12),t(),n(13,"button",16),C("click",function(){let s=d(e).$implicit,l=f();return u(l.updateCartCount(s.product._id,s.count+1))}),m(14,"i",18),t()(),n(15,"button",16),C("click",function(){let s=d(e).$implicit,l=f();return u(l.removeSpecificCartItem(s.product._id))}),m(16,"i",19),t()()(),n(17,"span"),o(18),x(19,"currency"),t()()()}if(c&2){let e=i.$implicit;a(2),g("src",e.product.imageCover,b)("alt",e.product.title),a(4),p(e.product.title),a(6),p(e.count),a(6),p(_(19,5,e.price*e.count,"GBP"))}}var T=class c{cartservice=v(P);cartDetails={};ngOnInit(){this.getLoggedUserCart()}getLoggedUserCart(){this.cartservice.getLoggedUserCart().subscribe({next:i=>{console.log(i.data),this.cartDetails=i.data},error:i=>{console.log(i)}})}removeSpecificCartItem(i){this.cartservice.removeSpecificCartItem(i).subscribe({next:e=>{console.log(e),this.cartDetails=e.data,this.cartservice.countNumber.next(e.numOfCartItems)},error:e=>{console.log(e)}})}updateCartCount(i,e){this.cartservice.updateCartCount(i,e).subscribe({next:r=>{console.log(r),this.cartDetails=r.data},error:r=>{console.log(r)}})}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=h({type:c,selectors:[["app-cart"]],decls:21,vars:8,consts:[[1,"bg-gray-200","p-4"],[1,"container","items-start","grid","sm:grid-cols-12","gap-12"],[1,"col-span-8","p-4","rounded-lg","shadow"],[1,"flex","items-center","space-x-4"],[1,"text-3xl"],[1,"text-orange-600"],[1,"bg-white","p-2","rounded","shadow","my-2","grid","sm:grid-cols-12"],[1,"col-span-4","bg-white","p-4","rounded-lg","shadow"],[1,"text-2xl"],[1,"flex","items-center","justify-between","my-4"],[1,"btn",3,"routerLink"],[1,"col-span-1"],[1,"w-full",3,"src","alt"],[1,"col-span-11","flex","items-center","justify-between","ms-8"],[1,"flex","items-center","space-x-4","my-3"],[1,"bg-gray-200","border","rounded-lg","flex","items-center","space-x-10","py-1","px-2"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-minus"],[1,"fas","fa-plus"],[1,"fas","fa-trash-can"]],template:function(e,r){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),o(5,"cart"),t(),n(6,"span",5),o(7),t()(),y(8,L,20,8,"div",6,F),t(),n(10,"div",7)(11,"h2",8),o(12,"Oreder Summary"),t(),n(13,"div",9)(14,"h3"),o(15,"Price"),t(),n(16,"h4"),o(17),x(18,"currency"),t()(),n(19,"button",10),o(20," Proceed To ChechOut "),t()()()()),e&2&&(a(7),E(" ",r.cartDetails.products==null?null:r.cartDetails.products.length," Items"),a(),S(r.cartDetails.products),a(9),p(_(18,3,r.cartDetails.totalCartPrice,"GBP")),a(2),g("routerLink",I(6,V,r.cartDetails._id)))},dependencies:[D,k],encapsulation:2})};export{T as CartComponent};
