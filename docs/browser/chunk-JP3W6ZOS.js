import{a as A}from"./chunk-FWOFWFQE.js";import{l as B}from"./chunk-6GWGDMCW.js";import{a as V}from"./chunk-V5HOMKS2.js";import{d as W}from"./chunk-WDJ36UZ5.js";import{i as E,l as j}from"./chunk-G7TNDSPZ.js";import{c as F,h as O}from"./chunk-XXMQDW6T.js";import{$a as T,Db as l,Fb as g,Ka as y,Na as s,Qb as p,R as x,Rb as b,Sb as _,W as c,Ya as P,Zb as k,aa as u,ba as f,bc as d,cc as I,dc as S,kb as w,lb as L,pb as v,qb as o,rb as n,sb as h,yb as C}from"./chunk-7MECJYW7.js";var D=class i{httpClient=c(F);getAllProduct(t=1){return this.httpClient.get(O.baseUrl+`products?page=${t}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})};var m=class i{transform(t,e){return t.split(" ",e).join(" ")}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=T({name:"term",type:i,pure:!0})};var M=(i,t)=>["/details",i,t];function U(i,t){if(i&1){let e=C();o(0,"i",11),l("click",function(){u(e);let a=g();return f(a.removeSpecificWishList(a.product.id))}),n()}}function z(i,t){if(i&1){let e=C();o(0,"i",12),l("click",function(){u(e);let a=g();return f(a.addProductToWishList(a.product.id))}),n()}}var H=class i{product={};productitem=!1;cartService=c(V);toastrService=c(B);wishlistService=c(A);love=!1;ngOnInit(){this.saveit()}saveit(){this.productitem=this.product.isLoved??!1,this.love=this.product.isLoved??!1,console.log("love card:",this.productitem)}addProductToCart(t){this.cartService.addProductToCart(t).subscribe({next:e=>{console.log(e),this.cartService.countNumber.next(e.numOfCartItems),e.status==="success"&&this.toastrService.success(e.message,"FreshCart")},error:e=>{console.log(e)}})}addProductToWishList(t){this.wishlistService.addProductToWishList(t).subscribe({next:e=>{console.log(e),e.status==="success"&&this.toastrService.success(e.message,"FreshCart"),this.product.isLoved=!0,this.saveit()}})}removeSpecificWishList(t){this.wishlistService.removeSpecificWishList(t).subscribe({next:e=>{console.log(e),e.status==="success"&&this.toastrService.success(e.message,"FreshCart"),this.product.isLoved=!1,this.saveit()}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-card"]],inputs:{product:"product"},decls:21,vars:19,consts:[[1,"card","group/card","overflow-hidden","relative"],[1,"cursor-pointer",3,"routerLink"],[1,"w-full","rounded-t","h-[300px]","object-contain",3,"src","alt"],[1,"text-sm","text-green-700"],[1,"text-lg","line-clamp-1"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"absolute","bottom-[45px]","right-[55px]"],[1,"fa-solid","text-red-600","fa-heart","fa-lg","cursor-pointer"],[1,"fa-solid","fa-heart","fa-lg","cursor-pointer"],[1,"btn","btnH","w-full","translate-y-[130%]","group-hover/card:translate-0",3,"click"],[1,"fa-solid","text-red-600","fa-heart","fa-lg","cursor-pointer",3,"click"],[1,"fa-solid","fa-heart","fa-lg","cursor-pointer",3,"click"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1),h(2,"img",2),o(3,"h3",3),p(4),n(),o(5,"h4",4),p(6),d(7,"term"),d(8,"titlecase"),n(),o(9,"div",5)(10,"span"),p(11),d(12,"currency"),n(),o(13,"span"),h(14,"i",6),p(15),n()()(),o(16,"span",7),w(17,U,1,0,"i",8)(18,z,1,0,"i",9),n(),o(19,"button",10),l("click",function(){return r.addProductToCart(r.product.id)}),p(20," Add To Cart "),n()()),e&2&&(s(),v("routerLink",k(16,M,r.product.slug,r.product.id)),s(),v("src",r.product.imageCover,y)("alt",r.product.title),s(2),b(r.product.category.name),s(2),_(" ",I(8,11,S(7,8,r.product.title,2))," "),s(5),b(S(12,13,r.product.price,"GBP")),s(4),_(" ",r.product.ratingsAverage),s(2),L(r.product.isLoved?17:r.product.isLoved?-1:18))},dependencies:[W,E,j,m],encapsulation:2})};export{D as a,H as b};
